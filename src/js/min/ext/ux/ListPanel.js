Ext.ux.ListPanel=Ext.extend(Ext.Panel,{layout:"fit",initComponent:function(){this.listView=new Ext.list.ListView(Ext.apply({store:this.store,loadingText:FR.T("Loading...")},this.listViewCfg));if(this.locateOnSel){this.listView.on("selectionchange",function(list,sel){if(!sel[0]){return false}var r=list.getRecord(sel[0]);FR.utils.locateItem(FR.utils.pathInfo(r.data.path).dirname,r.data.filename)},this)}this.items=[this.listView];if(this.extraItem){this.items.push(this.extraItem)}if(this.paginated){this.pagingbar=new Ext.PagingToolbar({buttonAlign:"center",store:this.store,pageSize:20});this.bbar=this.pagingbar}this.store.on("exception",function(){this.listView.getTemplateTarget().update('<div class="x-list-message">'+FR.T("Failed to load data!")+"</div>")},this);Ext.ux.ListPanel.superclass.initComponent.apply(this,arguments)},getIconHTML:function(v){var html;if(v.objectType=="folder"){html='<i class="fa fa-fw fa-2x fa-folder"></i>'}else if(v.objectType=="collection"){html='<i class="fa fa-fw fa-2x fa-clone"></i>'}else{if(v.thumb){html='<img class="fr-thumbnail" src="'+FR.UI.getThumbURL({path:v.path})+'" onerror="this.style.display=\'none\'" loading="lazy" />'}else{html='<div class="extLabel ext_'+v.ext+'">'+v.ext+"</div>"}}return'<div class="ico">'+html+"</div>"},setTabBubble:function(n,alert){this.tabButton.el.toggleClassIf("highlighted",n>0)}});