FR.init=function(){this.tree={};this.tree.panel=new Ext.tree.TreePanel({autoScroll:true,containerScroll:true,rootVisible:false,trackMouseOver:false,listeners:{beforecollapsenode:function(){return false},afterrender:function(){this.getRootNode().findChild("page","details").select()}},root:{expanded:true,id:"root",children:[{text:FR.T("Details"),iconCls:"fa-info-circle",page:"details",leaf:true},{text:FR.T("Users with direct access"),iconCls:"fa-users",page:"users",leaf:true},{text:FR.T("Shares"),iconCls:"fa-user-plus",page:"shares",leaf:true},{text:FR.T("Web Links"),iconCls:"fa-link",page:"weblinks",leaf:true},{text:FR.T("Maintenance"),iconCls:"fa-tools",cls:"sysConfMenuItem",expanded:true,hidden:!FR.isFolder,children:[{text:FR.T("Index file names"),iconCls:"fa-search",page:"index_filenames",leaf:true},{text:FR.T("Index file metadata"),iconCls:"fa-search",src:URLRoot+"/?module=metadata&section=index",leaf:true},{text:FR.T("Clear preview cache"),iconCls:"fa-images",page:"clear_thumb_cache",leaf:true}]},{text:FR.T("Troubleshoot"),iconCls:"fa-bug",expanded:true,hidden:FR.isFolder,children:[{text:FR.T("Thumbnail generation"),iconCls:"fa-image",page:"troubleshoot_thumb",leaf:true},{text:FR.T("Preview generation"),iconCls:"fa-eye",page:"troubleshoot_preview",leaf:true},{text:FR.T("Metadata extraction"),iconCls:"fa-info-square",page:"troubleshoot_metadata",leaf:true},{text:FR.T("Searching"),iconCls:"fa-search",expanded:true,children:[{text:FR.T("Content extraction"),page:"troubleshoot_content_extraction",leaf:true},{text:FR.T("Content indexing"),page:"troubleshoot_content_indexing",leaf:true}]}]}]}});this.tree.panel.getSelectionModel().on("beforeselect",function(selectionModel,treeNode){var a=treeNode.attributes;if(!a.page&&!a.src){return false}});this.tree.panel.getSelectionModel().on("selectionchange",function(selectionModel,treeNode){var url=FR.baseURL;if(treeNode.attributes.src){url=treeNode.attributes.src+"&path="+encodeURIComponent(FR.path)}else{url+="&page="+encodeURIComponent(treeNode.attributes.page)}Ext.get("displayFrame").dom.src=url});FR.viewPort=new Ext.Viewport({layout:"border",items:[{region:"west",layout:"fit",split:true,width:280,stateful:false,margins:"0 10px 0 0",items:FR.tree.panel},{region:"center",layout:"card",id:"displayArea",activeItem:0,html:'<iframe style="width: 100%;height: 100%;border: 0;" id="displayFrame"></iframe>'}]})};Ext.onReady(function(){FR.baseURL=URLRoot+"/?module=file_cpanel&_popup_id="+encodeURIComponent(FR.popupId)+"&path="+encodeURIComponent(FR.path);FR.init()});